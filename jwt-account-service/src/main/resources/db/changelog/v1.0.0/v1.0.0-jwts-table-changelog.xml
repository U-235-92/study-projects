<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    
   <changeSet id="10.08.25-create-jwts-table" author="U-235-92">
       <createTable tableName="jwts">
           <column name="login" type="varchar(100)">
               <constraints primaryKey="true" unique="true" nullable="false"/>
           </column>
           <column name="access_token" type="varchar(255)">
               <constraints nullable="false"/>
           </column>
       </createTable>
   </changeSet>
    <changeSet id="10.08.25-add-fk_accounts_login" author="U-235-92">
        <addForeignKeyConstraint 
            baseTableName="jwts" baseColumnNames="login" 
            constraintName="fk_accounts_login" 
            referencedTableName="accounts" referencedColumnNames="login" 
            onDelete="CASCADE" onUpdate="CASCADE"/>
    </changeSet>
</databaseChangeLog>